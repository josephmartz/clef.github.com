<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Clef.github.com by Clef</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/prettify.css">
    <script type='text/javascript' src='javascripts/prettify.js'></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body onload='prettyPrint();'>
    <div class="wrapper">
      <header>
        <h1><a href='https://clef.io'>Clef</a></h1>
        <p>Celf API Documentation</p>


        <p class="view"><a href="https://github.com/Clef">Visit the Clef GitHub Profile</a></p>
        </br>
        <p><a href='#sample'>Sample Applications</a></p>
        <p><a href='https://developer.clef.io/information'>Setup Clef on your website in 5 minutes</a></p>
        <p><a href='#documentation'>Documentation</a></p>

      </header>
      <section>
        <h1>Welcome to Clef</h1>
        </br>
        <p>Clef is a new way to manage identity on the web. Rather than remember hundreds of usernames and passwords, Clef makes authentication easy and secure. First, website owners integrate the Clef javascript API with their website. Next, users download the Clef mobile application on their phone and set up an account using only their email. Now, users can scan any login QR code on a Clef enabled site and they will instantly authenticate the entire computer. Finally, when users are ready, they can logout on their phone and the computer will be deactivatedâ€”allowing no new logins to Clef enabled sites.</p>

        <p>If you're here, you are almost certainly a website owner looking to integrate Clef with your website. Below, you can find <a href='#sample'>sample applications built using Clef in Ruby, Python, and Javascript</a> and <a href='#documentation'>in-depth documentation on the API.</a></p>

        <p>If you're looking for a more indepth tutorial, visit our <a href="https://developer.clef.io/information">5 minute setup page</a>.</p>
        <div id='sample'>
          </br>
          </br>
          <h2>Sample applications using the Clef API</h2>
          </br>
          <p>To help with the development process, we've created some sample applications, which can be used as a basis for integrating Clef into your application. Right now, we have the following sample applications:</p>
          <ul>
            <li><a href='https://github.com/Clef/Sample-Applications/tree/master/ruby'>Ruby</a></li>
            <li><a href='https://github.com/Clef/Sample-Applications/tree/master/python'>Python</a></li>
            <li><a href='https://github.com/Clef/Sample-Applications/tree/master/node'>Node</a></li>
            <li><a href='https://github.com/Clef/Sample-Applications/tree/master/rails-sample'>Rails</a></li>
          </ul>
        </div>
        </br>
        </br>
        </br>

        <div id='documentation'>
          <h2>Clef API Documentation</h2>
          </br>
          </br>
          <h3>Javascript</h3>
          <h4>Clef Button</h4>
           <p>Getting the Clef button on your site is as easy as inserting one script tag. All you have to do is pick where you want the Clef button and insert the script tag there with the proper attributes. If you want a more flexible way to allow users to log in with Clef (or don't want to run our javascript on your website), check out the link option in the <a href='https://developer.clef.io/information#client'>client side code documentation</a>.</p>

            <table class="twelve">
              <tbody>
                <tr>
                  <td><iframe src='http://clef.local:5000/iframes/button' style='height:34px;width:235px;margin:0;padding:0;' frameBorder=0></iframe></td>
                  <td><textarea>&lt;script src='https://clef.io/v2/clef.js' class='clef-button' data-app-id='YOUR_APP_ID' data-redirect-url='YOUR_REDIRECT_URL'&gt;&lt;/script&gt;'</textarea>
                  </td>
                </tr>
                <tr>
                  <td><iframe src='http://clef.local:5000/iframes/button?t=button' style='height:34px;width:235px;margin:0;padding:0;' frameBorder=0></iframe></td>
                  <td>
                    <textarea>&lt;script src='https://clef.io/v2/clef.js' class='clef-button' data-app-id='YOUR_APP_ID' data-redirect-url='YOUR_REDIRECT_URL' data-type='button&gt;&lt;/script&gt;'</textarea>
                  </td>
                </tr>
                <tr>
                  <td><iframe src='http://clef.local:5000/iframes/button?c=white' style='height:34px;width:235px;margin:0;padding:0;' frameBorder=0></iframe></td>
                  <td>
                    <textarea>&lt;script src='https://clef.io/v2/clef.js' class='clef-button' data-app-id='YOUR_APP_ID' data-redirect-url='YOUR_REDIRECT_URL' data-color='white'&gt;&lt;/script&gt;'</textarea>
                  </td>
                </tr>
                <tr>
                  <td><iframe src='http://clef.local:5000/iframes/button?c=white&t=button' style='height:34px;width:235px;margin:0;padding:0;' frameBorder=0></iframe></td>
                  <td>
                    <textarea>&lt;script src='https://clef.io/v2/clef.js' class='clef-button' data-app-id='YOUR_APP_ID' data-redirect-url='YOUR_REDIRECT_URL' data-color='white' data-type='button'&gt;&lt;/script&gt;'</textarea>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>All the buttons provide the same log in and registration capabilities across all modern browsers.</p>

          </pre>
          <br/>
          <h3>OAuth</h3>
          <p>Clef follows the OAuth 2.0 protocol to authenticate users. Luckily, much of this protocol is abstracted away because of the unique phone to computer interaction Clef provides; therefore, all you need to do is implement the redirect URI and code for token exchange.</p>
          <h4>POST /authorize</h4>
          <p>This is the API route to exchange an OAuth code for an access token.</p>
          <pre>
            <code class='prettyprint'>
<span class='exp'>REQUEST DEFINITION:</span>

POST https://clef.io/api/v1/authorize

Parameters:
code={YOUR_USER_ACCESS_TOKEN}
&amp;app_id={YOUR_APP_ID}
&amp;app_secret={YOUR_APP_SECRET}

<span class='exp'>EXAMPLE REQUEST:</span>

curl --data "access_token=4asd3fjdkf3sdqet03jd&app_id=1234&app_secret=56789" https://clef.io/api/authorize

<span class='exp'>EXAMPLE SUCCESS RESPONSE:</span>

{
    access_token: '1234567',
    success: true
}

<span class='exp'>POSSIBLE ERROR RESPONSES:</span>

//provided app ID does not correspond to an application
{
    error: 'Invalid App ID.'
}

//provided app secret is incorrect or not present
{
    error: 'Invalid App Secret.'
}

//provided OAuth code is incorrect or not present
{
    error: 'Invalid OAuth Code.'
}

                </code>
              </pre>
          </br>
          <h3>User Information</h3>
          <p>Right now, there is only one API route to get access about the user. In the future, Clef will support API calls to other services that the user can connect like Twitter, Instagram, or Stripe.</p>
          <h4>POST /info</h4>
          <p>This API request returns all available information for the user.</p>

                  <pre>
                    <code class='prettyprint'>
<span class='exp'>REQUEST DEFINITION:</span>

GET https://clef.io/api/v1/info?access_token=YOUR_USER_ACCESS_TOKEN

<span class='exp'>EXAMPLE REQUEST:</span>

curl https://clef.io/api/v1/info?access_token=1234567

<span class='exp'>EXAMPLE SUCCESS RESPONSE:</span>

{
  info: {
    id: '12345',
    first_name: 'Jesse',
    last_name: 'Pollak',
    phone_number: '1234567890',
    email: 'jesse@clef.io'
  },
  success: true
}

<span class='exp'>POSSIBLE ERROR RESPONSES:</span>

//provided OAuth token is invalid or not present
{
    error: 'Invalid token.'
}
                    </code>
                  </pre>
        </div>
      </section>

      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>
</html>
